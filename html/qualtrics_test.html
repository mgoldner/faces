<html>
<head>
<title>Qualtrics Test</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/mgoldner/faces@latest/css/faces.css" media="screen" />
  <script type="text/javascript">

    jQuery('#show_face_button').click(function(){ 

      jQuery('#show_face_button').disabled = true;

      const el = document.getElementById("face");

      let isVisible = el.classList.contains("fade_show");

      console.log("Is visible = ", isVisible);
      if (!isVisible) {
        el.classList.add("fade_show");
        el.classList.remove("fade_hidden");
      }

      var timeleft = 10;
      var faceTimer = setInterval(function(){
        if(timeleft <= 0){
          clearInterval(faceTimer);
          el.classList.remove("fade_show");
          el.classList.add("fade_hidden")
          jQuery('#NextButton').click();
        }
        timeleft -= 1;
      }, 1000);

    });
 
  </script>
</head>
<body>
<div class="face">
  <table class="face" id="face">
    <tr>
      <td rowSpan="3" class="hairL variant1"/>
      <td colSpan="4" class="hairM variant1"/>
      <td rowSpan="3" class="hairR variant1"/>
    </tr>
    <tr>
      <td colSpan="2" class="eyeL variant1"/>
      <td colSpan="2" class="eyeR variant1"/>
    </tr>
    <tr>
      <td rowSpan="3" class="cheekL variant1"/>
      <td colspan="2" rowSpan="2" class="nose variant1"/>
      <td rowspan="3" class="cheekR variant1"/>
    </tr>
    <tr>
      <td class="blank_square"/>
      <td class="blank_square"/>
    </tr>
    <tr>
      <td class="blank_square"/>
      <td colSpan="2" class="mouth variant1"/>
      <td class="blank_square"/>
    </tr>
    <tr>
      <td colSpan="2" class="blank_rectangle"/>
      <td colSpan="2" class="chin question_mark"/>
      <td colSpan="2" class="blank_rectangle"/>
    </tr>
  </table>
</div>
<div style="display: flex; justify-content: center; align-items: center; padding: 10px">
  <button id="show_face_button" type="button">Ready</button>
</div>
</body>
</html>
